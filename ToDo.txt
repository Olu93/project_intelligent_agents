TODO: How to do "per" statement
TODO: Do the difference between canTake and hasTaken in the agent

